Dropzone.options.myDropzone={init:function(){var e=this;e.options.addRemoveLinks=!0,e.options.dictRemoveFile="Delete",$.get("/upload",function(o){for(var n=JSON.parse(o).files,l=0;l<n.length;l++){var t={name:n[l].name,size:n[l].size,big:n[l].big,type:"image/jpeg"};e.options.addedfile.call(e,t),e.options.thumbnail.call(e,t,n[l].url)}}),e.on("addedfile",function(e){console.log("new file added ",e),alert("foo")}),e.on("sending",function(e){console.log("upload started",e),$(".meter").show()}),e.on("totaluploadprogress",function(e){console.log("progress ",e),$(".roller").width(e+"%")}),e.on("queuecomplete",function(){$(".meter").delay(999).slideUp(999)}),e.on("success",function(e){var o=document.createElement("BUTTON"),n=document.createTextNode("CLICK ME");o.appendChild(n),e.previewTemplate.appendChild(o)}),e.on("removedfile",function(e){console.log(e),$.ajax({url:"/uploaded/files/"+e.name,type:"DELETE",success:function(e){console.log(e)}})})}};